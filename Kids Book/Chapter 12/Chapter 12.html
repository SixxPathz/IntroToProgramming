<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="styles.css" />

    <title>Document</title>
  </head>
  <body>
    <div id="container">
        <p>
            <ul>
                <li>Click the train to make it go faster.</li>
                <li>Click the Stop button to stop it.</li>
                <li>Try to stop it as close to the edge as possible, without crashing.</li>
            </ul>
        </p>
        <div id="track">
            <div id="train">
                <img alt="Train" src="http://www.watzthis.com/images/train.png">
            </div>
        </div>
        <div id="stopButton">Stop!</div>
    </div>
    <script>
      /*------------------------------------------------------------------------------------------------------------------------------------
                            THIS FUNCTION RETURNS TEXT PASSED INTO IT WITH A SMILEY FACE
    ------------------------------------------------------------------------------------------------------------------------------------*/
      function smileyIt(theText) {
        theText += " :)";
        return theText;
      }

      alert(smileyIt("Hi there!"));
      /*------------------------------------------------------------------------------------------------------------------------------------*/


      /*------------------------------------------------------------------------------------------------------------------------------------
                            FUNCTION JUNCTION
    ------------------------------------------------------------------------------------------------------------------------------------*/
/*
todo: Create three global variables:
* trainSpeed (initial value = 250)
* trainPosition (initial value = 0)
* animation (no initial value)
*/
let trainSpeed = 250;
let trainPosition = 0;
let animation;

/*
todo: Listen for click events on the train element and
call a function named speedUp when they happen.
*/
let train = document.getElementById("train");
train.addEventListener("click", speedUp);


/*
todo: Listen for click events on the stop button element
and call a function called stopTrain when they
happen.
*/
let stopButton = document.getElementById("stopButton");
stopButton.addEventListener("click", stopTrain);

/*We check if the train is going at top speed which it is because train speed 250
and everytime the speed up function is called it keep deecreasing by 10 or whatever I chang the value to*/
function speedUp() {
    if (trainSpeed > 10) {
        trainSpeed -= 10;
    }
/*Speed of the animation(How long to wait between the frames)
1.Temporarily stops the animation
2.setInterval() sets up a new loop with the new value from trainSpeed
*/
clearInterval(animation)
animation = setInterval(frame,trainSpeed);

function frame() {
trainPosition += 2;
train.style.left = trainPosition + 'px';
checkPosition(trainPosition);
}

}

function checkPosition(currentPosition) {
    if (currentPosition === 260) {
        alert(":O!");
        console.log("Crash!");
        clearInterval(animation);
    }
}
function stopTrain() {
    if (trainPosition < 260) {
        clearInterval(animation);
        console.log("Whew! That was close!");
    }
}

    </script>
  </body>
</html>
